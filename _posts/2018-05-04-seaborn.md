---
layout: post
title: "Seaborn"
description: Seaborn也是python科学计算中经常用到的绘图工具包。
date: 2018-05-01 08:00:00 +0800
categories: python
author: bwzou
---
Seaborn和Matplotlib的区别：matplotlib是高度自定义的，很多参数需要你自己去调，但是你很难知道怎么调节参数以获取一个很漂亮的图像；Seaborn则包含一些定制的好的主题和一些高层次的参数去调节matplotlib

我们在学习之前可以先看[官网gallery](https://seaborn.pydata.org/examples/index.html),了解它都能画些怎样的图片

我们一样使用如下方式引入seaborn：
```python
import seaborn as sns
```

## 控制图形美学
我们先定义一个简单函数去画一些正弦波，通过例子我们可以知道如何调整的不同风格参数。
```python
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import seaborn as sns
np.random.seed(sum(map(ord, "aesthetics")))

def sinplot(flip=1):
    x = np.linspace(0, 14, 100)
    for i in range(1, 7):
        plt.plot(x, np.sin(x + i * .5) * (7 - i) * flip)

sinplot()
plt.show()
```
画出来就是matplotlib默认风格的图像。

如果我们想换成seaborn默认风格的图像，我们需要调用set（）函数：
```python
sns.set()
sinplot()
plt.show()
```
Seaborn库把matplotlib的参数分为两种，一种是设置图形的审美外观风格，另一种则是为了调节缩放以达到更好的观察效果。 

设置风格通过axes_style()和set_style()实现，为了缩放图形一般用plotting_context()和set_context();对于两种情况，前一个函数返回一个字典值（等一下我们就讲），后一个用于设置matplotlib。

#### 风格
seaborn预设了五种主题分格：darkgrid、whitegrid、dark、white和ticks。默认的是darkgrid。我们来设置一个dark看看效果（正常情况下绘图很少用到grid）
```python
sns.set_style("dark")
sinplot()
plt.show()
```
我们可以用 despine() 去掉顶部和右边的线条:
```python
sinplot()
sns.despine()
plt.show()
```
其是seaborn样式是可以直接覆盖的，刚刚我们讲到axes_style()会返回一个字典值，表示当前样式设置值，内容如下：
```python
print(sns.axes_style())
```
```python
{'axes.facecolor': '#EAEAF2',
 'axes.edgecolor': 'white',
  'axes.grid': False, 
  'axes.axisbelow': True,
  'axes.linewidth': 0.0, 
  'axes.labelcolor': '.15', 
  'figure.facecolor': 'white', 
  'grid.color': 'white', 
  'grid.linestyle': '-', 
  'text.color': '.15', 
  'xtick.color': '.15', 
  'ytick.color': '.15', 
  'xtick.direction': 'out', 
  'ytick.direction': 'out', 
  'xtick.major.size': 0.0, 
  'ytick.major.size': 0.0, 
  'xtick.minor.size': 0.0, 
  'ytick.minor.size': 0.0, 
  'legend.frameon': False, 
  'legend.numpoints': 1, 
  'legend.scatterpoints': 1, 
  'lines.solid_capstyle': 'round', 
  'image.cmap': 'rocket', 
  'font.family': ['sans-serif'], 
  'font.sans-serif': ['Arial', 'DejaVu Sans', 'Liberation Sans', 'Bitstream Vera Sans', 'sans-serif']
}
```
如果我们想自定义，直接构造一个字典参数传入set_style即可：
```python
sns.set_style("darkgrid", {"axes.facecolor": ".9"})
sinplot()
plt.show()
```
#### 缩放
seaborn预设了四种上下文（contexts）,分别是paper，notebook，talk和poster。默认的是notebook，我们之前用的就是绘图用的就是plots。我们换一种看一下
```python
sns.set_context("paper")
sinplot()
plt.show()
```
可能你已经想到，我们是不是也可以跟style一样，通过往set_context（）传入字典参数设置contexts，没错确实如此。
```python
print(sns.plotting_context())
```
```python
{'font.size': 12.0, 
 'axes.labelsize': 11.0, 
 'axes.titlesize': 12.0, 
 'xtick.labelsize': 10.0,
 'ytick.labelsize': 10.0, 
 'legend.fontsize': 10.0, 
 'grid.linewidth': 1.0, 
 'lines.linewidth': 1.75, 
 'patch.linewidth': 0.3, 
 'lines.markersize': 7.0, 
 'lines.markeredgewidth': 0.0, 
 'xtick.major.width': 1.0, 
 'ytick.major.width': 1.0, 
 'xtick.minor.width': 0.5, 
 'ytick.minor.width': 0.5, 
 'xtick.major.pad': 7.0, 
 'ytick.major.pad': 7.0
 }
```
下面是一个使用的例子：
```python
sns.set_context("notebook", font_scale=1.5, rc={"lines.linewidth": 2.5})
sinplot()
```